{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}Wallet{% endblock %}

{% block head %}
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'bs/dash/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'fonts/dash/Nunito.css' %}">
    <link rel="stylesheet" href="{% static 'css/dash/bs-theme-overrides.css' %}">
    <link rel="stylesheet" href="{% static 'css/dash/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/dash/wallet.css' %}">
{% endblock %}

{% block style %}
{% endblock %}

{% block content %}


<!-- TODO: FIX ERROR HANDLING AND DISPLAYING FEATURES TO DISPLAY SEPERATE DIV TYPES WITH THE INCLUDED MESSAGES AS A LIST INSIDE OF THE DIV -->
{% if messages %}
    <ul>
      {% for message in messages %}
        {% if message.tags == 'error' %}
            <div class="alert danger" role="alert" id="alert-error"><span>{{ message }}</span></div>
        {% elif message.tags == 'success' %}
            <div class="alert alert-success" role="alert" id="alert-success"><span>{{ message }}</span></div>
        {% endif %}
      {% endfor %}
    </ul>
{% endif %}

<div class="row">
    <div class="col-md-10 col-xxl-8 offset-md-1 offset-xxl-2">
        <h3 class="text-dark my-4">Checking, Savings, &amp; Credit</h3>
        <div class="accordion my-5" role="tablist" id="accordion-1">

            {% for account in user.bank_accounts.all %}

                {% if account.account_type == 'Checking' %}
                    <!-- CHECKING ACCOUNTS -->
                    <div class="accordion-item my-5">
                            <h2 class="accordion-header" role="tab"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-1 .item-1" aria-expanded="true" aria-controls="accordion-1 .item-1">(....{{ account.account_number|slice:"-4" }}) Checking</button></h2>
                            <div class="accordion-collapse collapse show item-1" role="tabpanel" data-bs-parent="#accordion-1">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-5 col-lg-2">
                                            <p class="mb-1">Account # :</p>
                                            <p class="mb-1">Routing # :&nbsp;</p>
                                            <p class="mb-1">Balance :&nbsp;</p>
                                        </div>
                                        <div class="col-7 col-lg-2">
                                            <p class="mb-1" style="text-align: right;"><strong>{{ account.account_number }}</strong></p>
                                            <p class="mb-1" style="text-align: right;"><strong>789-4658</strong></p>
                                            <p class="mb-1" style="text-align: right;">$ <strong>{{ account.balance }}</strong></p>
                                        </div>
                                        <div class="col-12 col-lg-1 col-vertical">
                                            <hr class="vertical">
                                        </div>

                                        <div class="col d-lg-flex justify-content-lg-center align-items-lg-center">
                                            <div class="row d-flex justify-content-center">
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 offset-sm-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-deposit" data-bs-toggle="modal">Deposit</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-deposit">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Deposit</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">


                                                                    <form action="{% url 'accounts:create_bank_transaction' %}" method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden" name="user_id" value="{{ request.user.id }}">
                                                                        <input type="hidden" name="transaction_type" value="deposit">
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" name="amount" type="number">
                                                                            </div>
<!--                                                                            <div class="col-xxl-12 my-2">-->
<!--                                                                                <header></header><label class="form-label">Into Account</label><label>-->
<!--                                                                                <select class="form-select" name="transaction_type">-->
<!--                                                                                {% if user.bank_accounts.all %}-->
<!--                                                                                    {% for account in user.bank_accounts.all %}-->
<!--                                                                                        {% if account.account_type == 'Checking' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }} - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Savings' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Credit' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% endif %}-->
<!--                                                                                    {% endfor %}-->
<!--                                                                                {% else %}-->
<!--                                                                                     &lt;!&ndash; TODO: Create optional selector for each account type in case that no accounts exist &ndash;&gt;-->
<!--                                                                                    -->
<!--                                                                                    <h1>WE HAVE TO DO SOMETHING HERE!!!!!!!!!</h1>-->
<!--                                                                                {% endif %}-->
<!--                                                                                </select>-->
<!--                                                                                </label>-->
<!--                                                                            </div>-->
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text" name="description">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>


                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="submit">Deposit</button></div>
                                                                    </form>



                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-transfer" data-bs-toggle="modal">Transfer</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-transfer">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Transfer</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">







                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Into Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-2"><label class="form-check-label" for="formCheck-2">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Transfer</button></div>
                                                                    </form>








                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-send" data-bs-toggle="modal">Send Money</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-send">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Zelle</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Receiver's Email</label><input class="form-control" type="email">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-3"><label class="form-check-label" for="formCheck-3">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Send</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-export" data-bs-toggle="modal">Export CSV</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-export">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Export</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Selected Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Report Type</label><select class="form-select">
                                                                                    <optgroup label="Accounts">
                                                                                        <option value="all" selected="">All</option>
                                                                                        <option value="checking">Checking</option>
                                                                                        <option value="savings">Savings</option>
                                                                                        <option value="credit">Credit</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Categories">
                                                                                        <option value="food">Food</option>
                                                                                        <option value="utilities">Utilities</option>
                                                                                        <option value="recreational">Recreational</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-3">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-4"><label class="form-check-label" for="formCheck-4" style="color: red;">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Export as CSV</button><button class="btn btn-primary" type="button">Export as PDF</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col d-flex justify-content-end">
                                            <div class="dropdown"><button class="btn btn-primary dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">Filter&nbsp;</button>
                                                <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Debits</a><a class="dropdown-item" href="#">Credit</a><a class="dropdown-item" href="#">Transfers</a><a class="dropdown-item" href="#">Deposits</a></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mt-2">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-6 text-nowrap">
                                                    <div id="dataTable_length" class="dataTables_length" aria-controls="dataTable"><label class="form-label">Show&nbsp;<select class="d-inline-block form-select form-select-sm">
                                                                <option value="10" selected="">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="100">100</option>
                                                            </select>&nbsp;</label></div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="text-md-end dataTables_filter" id="dataTable_filter"><label class="form-label"><input type="search" class="form-control form-control-sm" aria-controls="dataTable" placeholder="Search"></label></div>
                                                </div>
                                            </div>
                                            <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
                                                <table class="table my-0" id="dataTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Date</th>
                                                            <th>Name</th>
                                                            <th>Type</th>
                                                            <th>Amount</th>
<!--                                                        <th>Balance</th>-->
                                                        </tr>
                                                    </thead>
                                                    {% for transaction in account.transactions.all %}
                                                        <tbody>
                                                            <tr>
                                                                <td>{{ transaction.timestamp|date:"F j, Y" }}</td>
                                                                <td class="text-truncate"><img class="rounded-circle me-2" width="30" height="30" src="{{ transaction.profile_img_url }}">{{ transaction.description }}</td>
<!--                                                                {% if transaction.transaction_type == 'Debit' %}-->
<!--                                                                    <td class="debit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Credit' %}-->
<!--                                                                    <td class="credit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Transfer' %}-->
<!--                                                                    <td class="transfer-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Deposit' %}-->
<!--                                                                    <td class="deposit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% endif %}-->



                                                                <td class="debit-light">{{ transaction.transaction_type }}</td>
                                                                <td>${{ transaction.amount }}</td>
<!--                                                                <td>${{ transaction.balance }}</td>-->
                                                                <td>
                                                                    <div class="dropdown"><button class="btn dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-three-dots-vertical">
                                                                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"></path>
                                                                            </svg></button>
                                                                        <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Hide</a><a class="dropdown-item" href="#">Report</a><a class="dropdown-item" href="#">Dispute</a></div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    {% endfor %}
                                                    <tfoot>
                                                        <tr>
                                                            <td><strong>Date</strong></td>
                                                            <td><strong>Name</strong></td>
                                                            <td><strong>Type</strong></td>
                                                            <td><strong>Amount</strong></td>
                                                            <td><strong>Balance</strong></td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 align-self-center">
                                                    <p id="dataTable_info" class="dataTables_info" role="status" aria-live="polite">Showing 1 to 10 of 27</p>
                                                </div>
                                                <div class="col-md-6">
                                                    <nav class="d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers">
                                                        <ul class="pagination">
                                                            <li class="page-item disabled"><a class="page-link" aria-label="Previous" href="#"><span aria-hidden="true">«</span></a></li>
                                                            <li class="page-item active"><a class="page-link a-page-item" href="#">1</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                                                            <li class="page-item"><a class="page-link" aria-label="Next" href="#"><span aria-hidden="true">»</span></a></li>
                                                        </ul>
                                                    </nav>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                {% elif account.account_type == 'Saving' %}
                    <!-- SAVING ACCOUNTS -->
                    <div class="accordion-item my-5">
                            <h2 class="accordion-header" role="tab"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-1 .item-1" aria-expanded="true" aria-controls="accordion-1 .item-1">(....{{ account.account_number|slice:"-4" }}) Savings</button></h2>
                            <div class="accordion-collapse collapse show item-1" role="tabpanel" data-bs-parent="#accordion-1">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-5 col-lg-2">
                                            <p class="mb-1">Account # :</p>
                                            <p class="mb-1">Routing # :&nbsp;</p>
                                            <p class="mb-1">Balance :&nbsp;</p>
                                        </div>
                                        <div class="col-7 col-lg-2">
                                            <p class="mb-1" style="text-align: right;"><strong>{{ account.account_number }}</strong></p>
                                            <p class="mb-1" style="text-align: right;"><strong>789-4658</strong></p>
                                            <p class="mb-1" style="text-align: right;">$ <strong>{{ account.balance }}</strong></p>
                                        </div>
                                        <div class="col-12 col-lg-1 col-vertical">
                                            <hr class="vertical">
                                        </div>

                                        <div class="col d-lg-flex justify-content-lg-center align-items-lg-center">
                                            <div class="row d-flex justify-content-center">
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 offset-sm-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-deposit" data-bs-toggle="modal">Deposit</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-deposit">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Deposit</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">


                                                                    <form action="{% url 'accounts:create_bank_transaction' %}" method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden" name="user_id" value="{{ request.user.id }}">
                                                                        <input type="hidden" name="transaction_type" value="deposit">
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" name="amount" type="number">
                                                                            </div>
<!--                                                                            <div class="col-xxl-12 my-2">-->
<!--                                                                                <header></header><label class="form-label">Into Account</label><label>-->
<!--                                                                                <select class="form-select" name="transaction_type">-->
<!--                                                                                {% if user.bank_accounts.all %}-->
<!--                                                                                    {% for account in user.bank_accounts.all %}-->
<!--                                                                                        {% if account.account_type == 'Checking' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }} - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Savings' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Credit' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% endif %}-->
<!--                                                                                    {% endfor %}-->
<!--                                                                                {% else %}-->
<!--                                                                                     &lt;!&ndash; TODO: Create optional selector for each account type in case that no accounts exist &ndash;&gt;-->
<!--                                                                                    -->
<!--                                                                                    <h1>WE HAVE TO DO SOMETHING HERE!!!!!!!!!</h1>-->
<!--                                                                                {% endif %}-->
<!--                                                                                </select>-->
<!--                                                                                </label>-->
<!--                                                                            </div>-->
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text" name="description">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>


                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="submit">Deposit</button></div>
                                                                    </form>



                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-transfer" data-bs-toggle="modal">Transfer</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-transfer">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Transfer</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">







                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Into Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-2"><label class="form-check-label" for="formCheck-2">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Transfer</button></div>
                                                                    </form>








                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-send" data-bs-toggle="modal">Send Money</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-send">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Zelle</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Receiver's Email</label><input class="form-control" type="email">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-3"><label class="form-check-label" for="formCheck-3">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Send</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-export" data-bs-toggle="modal">Export CSV</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-export">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Export</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Selected Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Report Type</label><select class="form-select">
                                                                                    <optgroup label="Accounts">
                                                                                        <option value="all" selected="">All</option>
                                                                                        <option value="checking">Checking</option>
                                                                                        <option value="savings">Savings</option>
                                                                                        <option value="credit">Credit</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Categories">
                                                                                        <option value="food">Food</option>
                                                                                        <option value="utilities">Utilities</option>
                                                                                        <option value="recreational">Recreational</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-3">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-4"><label class="form-check-label" for="formCheck-4" style="color: red;">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Export as CSV</button><button class="btn btn-primary" type="button">Export as PDF</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col d-flex justify-content-end">
                                            <div class="dropdown"><button class="btn btn-primary dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">Filter&nbsp;</button>
                                                <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Debits</a><a class="dropdown-item" href="#">Credit</a><a class="dropdown-item" href="#">Transfers</a><a class="dropdown-item" href="#">Deposits</a></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mt-2">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-6 text-nowrap">
                                                    <div id="dataTable_length" class="dataTables_length" aria-controls="dataTable"><label class="form-label">Show&nbsp;<select class="d-inline-block form-select form-select-sm">
                                                                <option value="10" selected="">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="100">100</option>
                                                            </select>&nbsp;</label></div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="text-md-end dataTables_filter" id="dataTable_filter"><label class="form-label"><input type="search" class="form-control form-control-sm" aria-controls="dataTable" placeholder="Search"></label></div>
                                                </div>
                                            </div>
                                            <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
                                                <table class="table my-0" id="dataTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Date</th>
                                                            <th>Name</th>
                                                            <th>Type</th>
                                                            <th>Amount</th>
<!--                                                        <th>Balance</th>-->
                                                        </tr>
                                                    </thead>
                                                    {% for transaction in account.transactions.all %}
                                                        <tbody>
                                                            <tr>
                                                                <td>{{ transaction.timestamp|date:"F j, Y" }}</td>
                                                                <td class="text-truncate"><img class="rounded-circle me-2" width="30" height="30" src="{{ transaction.profile_img_url }}">{{ transaction.description }}</td>
<!--                                                                {% if transaction.transaction_type == 'Debit' %}-->
<!--                                                                    <td class="debit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Credit' %}-->
<!--                                                                    <td class="credit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Transfer' %}-->
<!--                                                                    <td class="transfer-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Deposit' %}-->
<!--                                                                    <td class="deposit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% endif %}-->



                                                                <td class="debit-light">{{ transaction.transaction_type }}</td>
                                                                <td>${{ transaction.amount }}</td>
<!--                                                                <td>${{ transaction.balance }}</td>-->
                                                                <td>
                                                                    <div class="dropdown"><button class="btn dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-three-dots-vertical">
                                                                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"></path>
                                                                            </svg></button>
                                                                        <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Hide</a><a class="dropdown-item" href="#">Report</a><a class="dropdown-item" href="#">Dispute</a></div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    {% endfor %}
                                                    <tfoot>
                                                        <tr>
                                                            <td><strong>Date</strong></td>
                                                            <td><strong>Name</strong></td>
                                                            <td><strong>Type</strong></td>
                                                            <td><strong>Amount</strong></td>
                                                            <td><strong>Balance</strong></td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 align-self-center">
                                                    <p id="dataTable_info" class="dataTables_info" role="status" aria-live="polite">Showing 1 to 10 of 27</p>
                                                </div>
                                                <div class="col-md-6">
                                                    <nav class="d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers">
                                                        <ul class="pagination">
                                                            <li class="page-item disabled"><a class="page-link" aria-label="Previous" href="#"><span aria-hidden="true">«</span></a></li>
                                                            <li class="page-item active"><a class="page-link a-page-item" href="#">1</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                                                            <li class="page-item"><a class="page-link" aria-label="Next" href="#"><span aria-hidden="true">»</span></a></li>
                                                        </ul>
                                                    </nav>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                {% elif account.account_type == 'Credit' %}
                    <!-- CREDIT ACCOUNTS -->
                    <div class="accordion-item my-5">
                            <h2 class="accordion-header" role="tab"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion-1 .item-1" aria-expanded="true" aria-controls="accordion-1 .item-1">(....{{ account.account_number|slice:"-4" }}) Credit</button></h2>
                            <div class="accordion-collapse collapse show item-1" role="tabpanel" data-bs-parent="#accordion-1">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-5 col-lg-2">
                                            <p class="mb-1">Account # :</p>
                                            <p class="mb-1">Routing # :&nbsp;</p>
                                            <p class="mb-1">Balance :&nbsp;</p>
                                        </div>
                                        <div class="col-7 col-lg-2">
                                            <p class="mb-1" style="text-align: right;"><strong>{{ account.account_number }}</strong></p>
                                            <p class="mb-1" style="text-align: right;"><strong>789-4658</strong></p>
                                            <p class="mb-1" style="text-align: right;">$ <strong>{{ account.balance }}</strong></p>
                                        </div>
                                        <div class="col-12 col-lg-1 col-vertical">
                                            <hr class="vertical">
                                        </div>

                                        <div class="col d-lg-flex justify-content-lg-center align-items-lg-center">
                                            <div class="row d-flex justify-content-center">
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 offset-sm-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-deposit" data-bs-toggle="modal">Deposit</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-deposit">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Deposit</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">


                                                                    <form action="{% url 'accounts:create_bank_transaction' %}" method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden" name="user_id" value="{{ request.user.id }}">
                                                                        <input type="hidden" name="transaction_type" value="deposit">
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" name="amount" type="number">
                                                                            </div>
<!--                                                                            <div class="col-xxl-12 my-2">-->
<!--                                                                                <header></header><label class="form-label">Into Account</label><label>-->
<!--                                                                                <select class="form-select" name="transaction_type">-->
<!--                                                                                {% if user.bank_accounts.all %}-->
<!--                                                                                    {% for account in user.bank_accounts.all %}-->
<!--                                                                                        {% if account.account_type == 'Checking' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }} - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Savings' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% elif account.account_type == 'Credit' %}-->
<!--                                                                                            <option value="{{ account.id }}">{{ account.account_number }}  - {{ account.account_type }}</option>-->
<!--                                                                                        {% endif %}-->
<!--                                                                                    {% endfor %}-->
<!--                                                                                {% else %}-->
<!--                                                                                     &lt;!&ndash; TODO: Create optional selector for each account type in case that no accounts exist &ndash;&gt;-->
<!--                                                                                    -->
<!--                                                                                    <h1>WE HAVE TO DO SOMETHING HERE!!!!!!!!!</h1>-->
<!--                                                                                {% endif %}-->
<!--                                                                                </select>-->
<!--                                                                                </label>-->
<!--                                                                            </div>-->
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text" name="description">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>


                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="submit">Deposit</button></div>
                                                                    </form>



                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-transfer" data-bs-toggle="modal">Transfer</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-transfer">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Transfer</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">







                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Into Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-2"><label class="form-check-label" for="formCheck-2">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Transfer</button></div>
                                                                    </form>








                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-send" data-bs-toggle="modal">Send Money</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-send">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Zelle</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Amount</label><input class="form-control" type="number">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">From Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Receiver's Email</label><input class="form-control" type="email">
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Note</label><input class="form-control" type="text">
                                                                            </div>
                                                                            <div class="col-xxl-12">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-3"><label class="form-check-label" for="formCheck-3">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Send</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 col-sm-4 col-lg-3 offset-0 d-flex justify-content-center"><button class="btn btn-primary my-2 send-btn" type="button" data-bs-target="#modal-export" data-bs-toggle="modal">Export CSV</button>
                                                    <div class="modal fade" role="dialog" tabindex="-1" id="modal-export">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Export</h4><button class="btn-close" type="button" aria-label="Close" data-bs-dismiss="modal"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Selected Account</label><select class="form-select">
                                                                                    <optgroup label="Checking">
                                                                                        <option value="12" selected="">Account Ending in (0909)</option>
                                                                                        <option value="5674">Account Ending in (5674)</option>
                                                                                        <option value="8789">Account Ending in (8789)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Savings">
                                                                                        <option value="5544">Account Ending in (5544)</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Credit">
                                                                                        <option value="6987">Account Ending in (6987)</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-2">
                                                                                <header></header><label class="form-label">Report Type</label><select class="form-select">
                                                                                    <optgroup label="Accounts">
                                                                                        <option value="all" selected="">All</option>
                                                                                        <option value="checking">Checking</option>
                                                                                        <option value="savings">Savings</option>
                                                                                        <option value="credit">Credit</option>
                                                                                    </optgroup>
                                                                                    <optgroup label="Categories">
                                                                                        <option value="food">Food</option>
                                                                                        <option value="utilities">Utilities</option>
                                                                                        <option value="recreational">Recreational</option>
                                                                                    </optgroup>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-xxl-12 my-3">
                                                                                <div class="form-check my-3"><input class="form-check-input" type="checkbox" id="formCheck-4"><label class="form-check-label" for="formCheck-4" style="color: red;">Are you sure you want to perform this action ?</label></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer"><button class="btn btn-light" type="button" data-bs-dismiss="modal">Close</button><button class="btn btn-primary" type="button">Export as CSV</button><button class="btn btn-primary" type="button">Export as PDF</button></div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col d-flex justify-content-end">
                                            <div class="dropdown"><button class="btn btn-primary dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">Filter&nbsp;</button>
                                                <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Debits</a><a class="dropdown-item" href="#">Credit</a><a class="dropdown-item" href="#">Transfers</a><a class="dropdown-item" href="#">Deposits</a></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mt-2">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-6 text-nowrap">
                                                    <div id="dataTable_length" class="dataTables_length" aria-controls="dataTable"><label class="form-label">Show&nbsp;<select class="d-inline-block form-select form-select-sm">
                                                                <option value="10" selected="">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="100">100</option>
                                                            </select>&nbsp;</label></div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="text-md-end dataTables_filter" id="dataTable_filter"><label class="form-label"><input type="search" class="form-control form-control-sm" aria-controls="dataTable" placeholder="Search"></label></div>
                                                </div>
                                            </div>
                                            <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
                                                <table class="table my-0" id="dataTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Date</th>
                                                            <th>Name</th>
                                                            <th>Type</th>
                                                            <th>Amount</th>
<!--                                                        <th>Balance</th>-->
                                                        </tr>
                                                    </thead>
                                                    {% for transaction in account.transactions.all %}
                                                        <tbody>
                                                            <tr>
                                                                <td>{{ transaction.timestamp|date:"F j, Y" }}</td>
                                                                <td class="text-truncate"><img class="rounded-circle me-2" width="30" height="30" src="{{ transaction.profile_img_url }}">{{ transaction.description }}</td>
<!--                                                                {% if transaction.transaction_type == 'Debit' %}-->
<!--                                                                    <td class="debit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Credit' %}-->
<!--                                                                    <td class="credit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Transfer' %}-->
<!--                                                                    <td class="transfer-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% elif transaction.transaction_type == 'Deposit' %}-->
<!--                                                                    <td class="deposit-light">{{ transaction.transaction_type }}</td>-->
<!--                                                                {% endif %}-->



                                                                <td class="debit-light">{{ transaction.transaction_type }}</td>
                                                                <td>${{ transaction.amount }}</td>
<!--                                                                <td>${{ transaction.balance }}</td>-->
                                                                <td>
                                                                    <div class="dropdown"><button class="btn dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" type="button">&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-three-dots-vertical">
                                                                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"></path>
                                                                            </svg></button>
                                                                        <div class="dropdown-menu ms-auto"><a class="dropdown-item" href="#">Hide</a><a class="dropdown-item" href="#">Report</a><a class="dropdown-item" href="#">Dispute</a></div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    {% endfor %}
                                                    <tfoot>
                                                        <tr>
                                                            <td><strong>Date</strong></td>
                                                            <td><strong>Name</strong></td>
                                                            <td><strong>Type</strong></td>
                                                            <td><strong>Amount</strong></td>
                                                            <td><strong>Balance</strong></td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 align-self-center">
                                                    <p id="dataTable_info" class="dataTables_info" role="status" aria-live="polite">Showing 1 to 10 of 27</p>
                                                </div>
                                                <div class="col-md-6">
                                                    <nav class="d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers">
                                                        <ul class="pagination">
                                                            <li class="page-item disabled"><a class="page-link" aria-label="Previous" href="#"><span aria-hidden="true">«</span></a></li>
                                                            <li class="page-item active"><a class="page-link a-page-item" href="#">1</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                                                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                                                            <li class="page-item"><a class="page-link" aria-label="Next" href="#"><span aria-hidden="true">»</span></a></li>
                                                        </ul>
                                                    </nav>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                {% endif %}

            {% endfor %}

        </div>
    </div>
</div>

{% endblock %}


{% block scripts %}
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>-->
{% endblock %}